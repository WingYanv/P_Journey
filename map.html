<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>Libai's Life Journey</title>
</head>

<body>
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="height:650px;width:1450px"></div>
    <!-- 文件引入 -->
    <script src="http://api.map.baidu.com/api?v=2.0&ak=VEbNXPaYgMqt19eieq6hWKf4jqwZIuUs"></script>
    <script src="/scripts/incubator-echarts-4.2.1/dist/echarts.js"></script>
    <script src="/scripts/incubator-echarts-4.2.1/dist/extension/bmap.js"></script>
    <script src="https://requirejs.org/docs/release/2.3.6/minified/require.js"></script>
    <script src="/coords/coord1.json"></script>
    <script src="/coords/coord2.json"></script>
    <script src="/coords/coord3.json"></script>
    <script src="/coords/coord4.json"></script>
    <script src="/coords/coord5.json"></script>
    <script src="/coords/coord6.json"></script>
    <script src="/coords/coord7.json"></script>
    <script src="/coords/coord8.json"></script>
    <script src="/coords/coord9.json"></script>
    <script src="/coords/coord10.json"></script>
    <script src="/coords/coord11.json"></script>
    <script src="/coords/coord12.json"></script>
    <script src="/coords/coord13.json"></script>
    <script src="/coords/coord14.json"></script>
    <script src="/coords/coord15.json"></script>
    <script src="/coords/coord16.json"></script>
    <script src="/coords/coord17.json"></script>
    <script src="/coords/coord18.json"></script>
    <script src="/coords/coord19.json"></script>
    <script src="/coords/coord20.json"></script>
    <script src="/coords/coord21.json"></script>
    <script src="/coords/coord22.json"></script>
    <script src="/coords/coord23.json"></script>
    <script src="/coords/coord24.json"></script>
    <script src="/coords/coord25.json"></script>
    <script src="/coords/coord26.json"></script>
    <script src="/coords/coord27.json"></script>


    
    
    
    
    <script type="text/javascript">
    <!--在这里输入调用Echart的代码-->
        // 基于准备好的dom，初始化echarts图表
        var myChart = echarts.init(document.getElementById('main'));
                


var data = [
    {
    "status":0,
    "message":"ok",
    "results":[
        {
            "name":"托克马克",
            "location":{
                "lat":42.821821,
                "lng":75.317649
            },
            "uid":"f9414d1640a0a7beacee7ae6"
        }
    ]
    },
    {
        "status": 0,
        "message": "ok",
        "results": [
            {
                "name": "江油市",
                "location": {
                    "lat": 31.784129,
                    "lng": 104.752412
                },
                "uid": "291abba98d112471ca1b95e5"
            }
        ]
    },
    {
        "status": 0,
        "message": "ok",
        "results": [
            {
                "name": "平武县",
                "location": {
                    "lat": 32.414682,
                    "lng": 104.535426
                },
                "uid": "f84b490592b68e5dfea778e4"
            }
        ]
    },
    {
        "status": 0,
        "message": "ok",
        "results": [
            {
                "name": "剑阁县",
                "location": {
                    "lat": 32.293478,
                    "lng": 105.531575
                },
                "uid": "3e2b636a35284eacd618b7ef"
            }
        ]
    },
    {
        "status": 0,
        "message": "ok",
        "results": [
            {
                "name": "三台县",
                "location": {
                    "lat": 31.101586,
                    "lng": 105.101493
                },
                "uid": "cd4bb675b905a6d4770269e4"
            }
        ]
    },
    {
        "status": 0,
        "message": "ok",
        "results": [
            {
                "name": "江油市",
                "location": {
                    "lat": 31.784129,
                    "lng": 104.752412
                },
                "uid": "291abba98d112471ca1b95e5"
            }
        ]
    }
];
var myseries = [];
var color = ['#a6c84c', '#ffa022', '#46bee9'];
    
for (var i = 1; i < data.length; i++) {
    var fromItem = data[i-1]
    var toItem = data[i];
    var res = [];
    var fromCoord = [fromItem["results"][0]["location"]["lng"],fromItem["results"][0]["location"]["lat"]];
    var toCoord = [toItem["results"][0]["location"]["lng"],toItem["results"][0]["location"]["lat"]];
    if (fromCoord && toCoord) {
        res.push({
            fromName: fromItem.name,
            toName: toItem.name,
            coords: [fromCoord, toCoord]
        });
    }
    myseries.push({
    name: 'childhood',
    type: 'lines',
    coordinateSystem: 'bmap',
    polyline: true,
    zlevel: 1,
    
    effect: {
        loop: false,
        show: true,
        delay: (i-1)*4000,
        period: 4,
        trailLength: 0.7,
        color: '#fff',
        symbolSize: 3
    },
    lineStyle: {
        normal: {
            color: color[0],
            width: 0,
            curveness: 0.2
        }
    },
    data: res
},
{
    name: 'childhood',
    type: 'lines',
    coordinateSystem: 'bmap',
    polyline: true,
    zlevel: 2,
    symbol: ['none', 'arrow'],
    symbolSize: 10,
    effect: {
        loop: false,
        show: true,
        delay: (i-1)*4000,
        period: 4,
        trailLength: 0,
        symbol: 'image://https://wxapptop.oss-cn-beijing.aliyuncs.com/upload_pic/p18061223/8775_ico.jpg',
        symbolSize: 15
    },
    lineStyle: {
        normal: {
            color: color[0],
            width: 5,
            opacity: 0.6,
            curveness: 0.2
        }
    },
    data: res
}
);
}



    



option = {
    // backgroundColor: '#404a59',
    title: {
        text: '李白',
        subtext: 'by lyh',
        left: 'center',
        textStyle: {
            color: '#fff'
        }
    },
    tooltip : {
        trigger: 'item'
    },
    bmap: {
        center: [104.114129, 37.550339],
        zoom: 5,
        roam: true,
        mapStyle: {
            styleJson: [
                    {
                        "featureType": "water",
                        "elementType": "all",
                        "stylers": {
                            
                        }
                    },
                    {
                        "featureType": "land",
                        "elementType": "all",
                        "stylers": {
                            
                        }
                    },
                    {
                    "featureType": "boundary",
                    "elementType": "all",
                    "stylers": {}
                    },
                    {
                        "featureType": "railway",
                        "elementType": "all",
                        "stylers": {
                            "visibility": "off"
                        }
                    },
                    {
                        "featureType": "highway",
                        "elementType": "geometry",
                        "stylers": {
                            "visibility": "off"
                        }
                    },
                    {
                        "featureType": "highway",
                        "elementType": "geometry.fill",
                        "stylers": {
                            "visibility": "off"
                        }
                    },
                    {
                        "featureType": "highway",
                        "elementType": "labels",
                        "stylers": {
                            "visibility": "off"
                        }
                    },
                    {
                        "featureType": "arterial",
                        "elementType": "geometry",
                        "stylers": {
                            "visibility": "off"
                        }
                    },
                    {
                        "featureType": "arterial",
                        "elementType": "geometry.fill",
                        "stylers": {
                            "visibility": "off"
                        }
                    },
                    {
                        "featureType": "poi",
                        "elementType": "all",
                        "stylers": {
                            "visibility": "off"
                        }
                    },
                    {
                        "featureType": "green",
                        "elementType": "all",
                        "stylers": {
                            "color": "#056197",
                            "visibility": "off"
                        }
                    },
                    {
                        "featureType": "subway",
                        "elementType": "all",
                        "stylers": {
                            "visibility": "off"
                        }
                    },
                    {
                        "featureType": "manmade",
                        "elementType": "all",
                        "stylers": {
                            "visibility": "off"
                        }
                    },
                    {
                        "featureType": "local",
                        "elementType": "all",
                        "stylers": {
                            "visibility": "off"
                        }
                    },
                    {
                        "featureType": "arterial",
                        "elementType": "labels",
                        "stylers": {
                            "visibility": "off"
                        }
                    },
                    {
                        "featureType": "boundary",
                        "elementType": "geometry.fill",
                        "stylers": {
                        }
                    },
                    {
                        "featureType": "building",
                        "elementType": "all",
                        "stylers": {
                            "visibility": "off"
                        }
                    },
                    {
                        "featureType": "label",
                        "elementType": "all",
                        "stylers": {
                            "visibility": "off"
                        }
                    }
            ]
        }
    },
series: myseries
};


                // 为echarts对象加载数据
                myChart.setOption(option);


    </script>
</body>
